swagger: '2.0'
info:
  version: 1.0.0
  title: fastify-swagger
schemes:
  - http
  - https
paths:
  /v1/reviewAndRatings:
    post:
      tags:
        - Reviews & Rating
      parameters:
        - name: body
          in: body
          schema:
            type: object
            required:
              - entity
              - rating
              - author
            properties:
              entity:
                type: string
              author:
                type: number
              title:
                type: string
              reviewDesc:
                type: string
              rating:
                type: number
                maximum: 5
                minimum: 1
            additionalProp1Properties: false
      responses:
        '200':
          schema:
            '400': &ref_0
              type: object
              description: error response
              additionalProperties: false
              properties:
                code:
                  type: string
                message:
                  type: string
                error:
                  type: array
                  items:
                    type: object
                    properties:
                      field:
                        type: string
                      message:
                        type: string
            '403': *ref_0
            '404': *ref_0
            '409': *ref_0
            '500': *ref_0
            type: object
            description: Success review created response
            properties:
              entity:
                type: string
              author:
                type: number
              title:
                type: string
              reviewDesc:
                type: string
              rating:
                type: number
                maximum: 5
                minimum: 1
              sentimentScore:
                type: string
              uuid:
                type: string
          description: Success review created response
    get:
      tags:
        - Reviews & Rating
      parameters:
        - type: string
          required: true
          name: entity_id
          in: query
        - type: string
          required: false
          name: limit
          in: query
        - type: string
          required: false
          name: offset
          in: query
        - type: string
          enum:
            - created_at
            - is_helpful
            - is_not_helpful
            - rating
          required: false
          name: sort_key
          in: query
        - type: string
          enum:
            - ASC
            - DESC
          required: false
          name: sort_order
          in: query
        - type: string
          maximum: 5
          minimum: 1
          required: false
          name: filterByRating
          in: query
      responses:
        '400':
          schema: *ref_0
          description: error response
        '403':
          schema: *ref_0
          description: error response
        '404':
          schema: *ref_0
          description: error response
        '409':
          schema: *ref_0
          description: error response
        '500':
          schema: *ref_0
          description: error response
  /v1/reviewAndRatings/updateReviewByUsersReaction:
    patch:
      tags:
        - Reviews & Rating
      parameters:
        - name: body
          in: body
          schema:
            type: object
            required:
              - reviewId
              - userReaction
            properties:
              reviewId:
                type: string
              userReaction:
                type: string
                enum:
                  - is_helpful
                  - is_not_helpful
      responses:
        '200':
          schema:
            type: object
            description: Succesfully updated user reaction to review
            properties:
              reviewId:
                type: string
              userReaction:
                type: string
                enum:
                  - is_helpful
                  - is_not_helpful
          description: Succesfully updated user reaction to review
        '400':
          schema: *ref_0
          description: error response
        '403':
          schema: *ref_0
          description: error response
        '404':
          schema: *ref_0
          description: error response
        '409':
          schema: *ref_0
          description: error response
        '500':
          schema: *ref_0
          description: error response
  /v1/getProductById:
    get:
      tags:
        - Product
      responses:
        '200':
          schema:
            '400': *ref_0
            '403': *ref_0
            '404': *ref_0
            '409': *ref_0
            '500': *ref_0
            type: object
            description: Success review created response
            properties:
              uuid:
                type: string
              product_id:
                type: string
              entity_id:
                type: string
              name:
                type: string
              description:
                type: string
              price:
                type: string
              image:
                type: string
          description: Success review created response
